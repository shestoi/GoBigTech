global: # global - это глобальные настройки для alertmanager, которые используются для отправки уведомлений
  resolve_timeout: 5m # resolve_timeout - это время ожидания для разрешения уведомлений

route:
  receiver: notification-webhook
  group_by: [alertname]
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 12h

receivers:
  # Alertmanager не поддерживает Telegram напрямую → webhook в Notification Service.
  # Docker-mode: notification в docker → используем docker DNS имя.
  # Host-mode: если notification на хосте → изменить на http://host.docker.internal:8081/alerts
  - name: notification-webhook
    webhook_configs:
      - url: "http://notification:8081/alerts"
        send_resolved: true
